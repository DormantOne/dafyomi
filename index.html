<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Daf Yomi Test</title>
</head>
<body>
    <h3 id="currentDate"></h3>
    <h3 id="currentDaf"></h3>
    <div id="hebrewText"></div>
    <button id="fetchDaf">Fetch Daf</button>

    <script>
        document.getElementById("fetchDaf").addEventListener("click", async () => {
            const currentDateDiv = document.getElementById("currentDate");
            const currentDafDiv = document.getElementById("currentDaf");
            const hebrewTextDiv = document.getElementById("hebrewText");

            // Hardcoded test date for debugging
            const today = "12/31/2024"; // Known date with assignment "Sanhedrin 14"
            currentDateDiv.textContent = `Today's Date: ${today}`;

            try {
                const response = await fetch("Daf_Yomi_Cycle.json");
                if (!response.ok) {
                    console.error("Failed to load JSON:", response.status);
                    throw new Error("Failed to load JSON");
                }
                const dafYomiData = await response.json();
                console.log("JSON loaded:", dafYomiData);

                // Check if the key exists
                if (today in dafYomiData) {
                    console.log("Key exists, assignment:", dafYomiData[today]);
                    currentDafDiv.textContent = `Daf Yomi: ${dafYomiData[today]}`;
                } else {
                    console.log("Key does not exist");
                    currentDafDiv.textContent = "No Daf Yomi assigned for today.";
                    hebrewTextDiv.textContent = "No content available.";
                }
            } catch (error) {
                console.error("Error:", error);
                hebrewTextDiv.textContent = "Error fetching Daf.";
            }
        });
    </script>
</body>
</html>
